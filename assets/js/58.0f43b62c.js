(window.webpackJsonp=window.webpackJsonp||[]).push([[58],{414:function(t,e,s){"use strict";s.r(e);var n=s(26),a=Object(n.a)({},(function(){var t=this,e=t._self._c;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("p",[t._v("Fyrox is a Rust game engine with lots of out-of-box game-ready features and a full-featured editor. Third\nweek of November continues the work started two weeks ago - animation system rework and editor improvements.\nAnother interesting topic is improved WebAssembly support and various bugfixes.")]),t._v(" "),e("h2",{attrs:{id:"animation-improvements"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#animation-improvements"}},[t._v("#")]),t._v(" Animation Improvements")]),t._v(" "),e("p",[e("img",{attrs:{src:"/assets/twif3/animation_editor.png",alt:"animation editor"}})]),t._v(" "),e("p",[t._v("Animation system of the engine is getting more improvements over the time, making the release of 0.29 closer. The most\nof changes on this week were done in the editor side. Let's start from the animation editor, since it has the\nmost changes. On the picture above at the bottom half of it you can see the animation editor in its current\n(far from finished) form. The list of tracks now groups tracks under respective nodes, which makes editing much\nmore user-friendly. The toolbar now allows you to create a new animation, remove selected, pick one for editing,\nplay/pause/stop current animation and set playback speed.")]),t._v(" "),e("p",[e("img",{attrs:{src:"/assets/twif3/absm.png",alt:"animation editor"}})]),t._v(" "),e("p",[t._v("Now let's switch to Animation Blending State Machine (ABSM) editor (a tool to mix multiple animation into one and\ntransition between states). This tool is now fully functional, but since it is somewhat tightly coupled with the\nanimation editor, you should wait until it is finished (if you're eager to try the new functionality). The major\nreason why you should wait is that animation editor is not capable to do animation import and retargetting yet.\nAnimation importing is important if you have multiple animation sources (multiple files) for a single model and\nyou need to put them into a single animation player so you can use the variety of animation in the ABSM editor.\nAlso, there's still no way to duplicate animations so using multiple animations that backed into a single timeline\nis not possible yet.")]),t._v(" "),e("p",[t._v("Let's now look at the changes in the engine internals. The most significant change is that "),e("code",[t._v("Animation")]),t._v(" resource\nwas removed, it is not needed anymore because now animation is stored inside "),e("code",[t._v("AnimationPlayer")]),t._v(" scene node. It is\nalso possible to set animation name (as you can see on the first screenshot).")]),t._v(" "),e("h2",{attrs:{id:"curve-editor-improvements"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#curve-editor-improvements"}},[t._v("#")]),t._v(" Curve Editor Improvements")]),t._v(" "),e("p",[e("code",[t._v("CurveEditor")]),t._v(" widget is a major part of animation editor that helps you to define complex laws of changing\nof any numeric value you want. On this week it has some significant quality-of-life improvements:")]),t._v(" "),e("ul",[e("li",[t._v("Non-uniform zoom - allows you to zoom differently on different axes. Default binding is mouse wheel - it\nchanges the zoom uniformly as before. To zoom on X axis separately you need to hold "),e("code",[t._v("Shift")]),t._v(" key while rotating\nthe wheel, to zoom on Y axis - hold "),e("code",[t._v("LeftCtrl")]),t._v(". This feature is important for cases where you have major\ndifferences in values on different axes and you want to fit one axis while keep seeing the rest of the data.")]),t._v(" "),e("li",[t._v("View bounds restriction - allows you to set a particular rectangle to restrict view position in the editor.\nIts main usage is to restrict curve editing in the animation editor to right half-space with positive times\n(negative time have no meaning).")]),t._v(" "),e("li",[e("code",[t._v("Zoom-to-fit")]),t._v(" functionality is now works as intended, the bug was causing incorrect view positioning and\nzoom calculation.")])]),t._v(" "),e("h2",{attrs:{id:"improved-webassembly-support"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#improved-webassembly-support"}},[t._v("#")]),t._v(" Improved WebAssembly Support")]),t._v(" "),e("p",[t._v("Previously, WebAssembly builds suffered from tons of issues - starting from simple compile errors and ending\nwith various runtime issues related to lack of blocking execution of async methods. Let's briefly highlight\nmajor issues that were fixed:")]),t._v(" "),e("h3",{attrs:{id:"scene-loading"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#scene-loading"}},[t._v("#")]),t._v(" Scene Loading")]),t._v(" "),e("p",[t._v("Lack of blocking execution of async methods was fixed in several ways. Scene loading is now done with\n"),e("code",[t._v("AsyncSceneLoader")]),t._v(" which executes loading task differently depending on platform: on PC it just spawns a thread\nand loads scene there. On WebAssembly it spawns a micro-task using "),e("code",[t._v("wasm_bindgen_futures")]),t._v(" and it handles\nloading for us. To get a scene from the loader you should use "),e("code",[t._v("fetch_result")]),t._v(" method, just call it each frame\n(or with some other period) in your update loop. Here's a small code snippet that illustrates new approach to\nscene loading.")]),t._v(" "),e("div",{staticClass:"language-rust extra-class"},[e("pre",{pre:!0,attrs:{class:"language-rust"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("use")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("std"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("::")]),t._v("path"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("::")])]),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Path")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("use")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("fyrox"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("::")]),t._v("event_loop"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("::")])]),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ControlFlow")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("use")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("fyrox"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("::")]),t._v("plugin"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("::")])]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Plugin")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("PluginContext")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("use")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("fyrox"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("::")]),t._v("scene"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("::")]),t._v("loader"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("::")])]),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("AsyncSceneLoader")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("use")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("fyrox"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("::")]),t._v("utils"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("::")]),t._v("log"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("::")])]),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Log")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("struct")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token type-definition class-name"}},[t._v("Game")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    loader"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Option")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("AsyncSceneLoader")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("impl")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Game")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v('// Step 1. Call this method once when you need to "kick off" scene loading.')]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("fn")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function-definition function"}},[t._v("load_scene")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("mut")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("self")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" path"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Path")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" context"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("mut")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("PluginContext")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Request asynchronous scene loading.")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("self")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("loader "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Some")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("AsyncSceneLoader")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("::")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("begin_loading")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n            path"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("into")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            context"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("serialization_context"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("clone")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            context"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("resource_manager"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("clone")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Step 2. Call this method in your game loop to continuously check loading progress.")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("fn")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function-definition function"}},[t._v("check_loading_progress")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("mut")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("self")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" context"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("mut")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("PluginContext")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Some")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("loader"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("self")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("loader"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("as_ref")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Some")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("result"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" loader"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("fetch_result")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Loading could end in either successfully loaded scene or some error.")]),t._v("\n                "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("match")]),t._v(" result "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                    "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Ok")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("scene"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                        "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Add the scene to the engine, so it will be included in engine processing pipeline.")]),t._v("\n                        context"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("scenes"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("scene"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n                    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n                    "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Err")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("err"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Log")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("::")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("err")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("err"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n                "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Discard the loader once it is finished its job.")]),t._v("\n                "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("self")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("loader "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("None")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("impl")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Plugin")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Game")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("fn")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function-definition function"}},[t._v("update")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("mut")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("self")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" context"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("mut")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("PluginContext")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" _control_flow"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("mut")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ControlFlow")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Check whether the scene is loaded or not. While it is loading, we can show progress bar")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// or even loading screen with useful information.")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("self")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("check_loading_progress")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("context"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),e("p",[t._v("What's good about it is that scene loading is non-blocking, which means that you can show loading screen with some\nprogress bar and tips while the scene is loading.")]),t._v(" "),e("h3",{attrs:{id:"resource-awaiting"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#resource-awaiting"}},[t._v("#")]),t._v(" Resource Awaiting")]),t._v(" "),e("p",[t._v("The next major problem was the fact that you should wait until all resources are loaded before you run scripts logic.\nPreviously it was done by simple blocking execution and this was causing panic on WebAssembly. Now it is fixed, the\nengine now checks if all pending resources were loaded and only if they're loaded, starts (or continues) scripts\nupdate. This is not ideal solution, because some resources can be used later when they're loaded, but current solution\nforces the engine to wait until all resource are loaded.")]),t._v(" "),e("h3",{attrs:{id:"webassembly-executor"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#webassembly-executor"}},[t._v("#")]),t._v(" WebAssembly Executor")]),t._v(" "),e("p",[t._v("There's more good stuff in this release - "),e("code",[t._v("fyrox-template")]),t._v(" (a simple tool that generates game project and script\ntemplates) is now able to generate separate version of executor for your game to create WebAssembly builds of\nyour game almost effortlessly. Separate executor is needed because WebAssembly builds requires the crate to be\n"),e("code",[t._v("lib")]),t._v(" type, while standard executor is "),e("code",[t._v("bin")]),t._v(". Also, WebAssembly executor adds custom panic hooks to print panic info\nwhen your game panics.")]),t._v(" "),e("p",[t._v("WebAssembly deployment is also now much easier - you need to run "),e("code",[t._v("wasm-pack build --target web --release")]),t._v(", bundle\nproduced binaries with some JS, HTML and add your game data folder to it and you're pretty much ready for deployment.")]),t._v(" "),e("h2",{attrs:{id:"other"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#other"}},[t._v("#")]),t._v(" Other")]),t._v(" "),e("p",[e("code",[t._v("VectorImage")]),t._v(" UI widget now supports two more primitives: "),e("code",[t._v("Rectangle")]),t._v(" and "),e("code",[t._v("RectangleFilled")]),t._v(" which can be used for some\nspecific cases.")]),t._v(" "),e("p",[t._v("Previously it was impossible to set sound status via editor's Inspector due to missing property editor for the "),e("code",[t._v("Status")]),t._v("\ntype, now it is fixed. Also, there was a chance, that at the moment of changing sound buffer of a sound source and\nsetting a playback position the engine would panic, because of incorrect playback position. The reason why it might\nhappen is that sound buffer was set "),e("em",[t._v("after")]),t._v(" the playback position.")]),t._v(" "),e("h2",{attrs:{id:"what-s-next"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#what-s-next"}},[t._v("#")]),t._v(" What's next?")]),t._v(" "),e("p",[t._v("The editor lacks preview mode - it is a special state of the editor where you can see animations, effects, listen sound,\netc. but do not take results of such preview into list of changes of your scene. Right now if you create an animation player,\nit will play the animation and the changes made with it will be written to the scene. Preview mode will allow you to\nreturn to state of the scene in which it was before activating the preview. Such isolation is very important to prevent\npreview changes to sneak in the final scene.")]),t._v(" "),e("p",[t._v("Animation editor itself still requires a lot of work - there's no dopesheet mode, no timeline, no record mode, etc. Finishing\nan MVP will take at least 3 weeks.")]),t._v(" "),e("h2",{attrs:{id:"full-list-of-changes-in-random-order"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#full-list-of-changes-in-random-order"}},[t._v("#")]),t._v(" Full List of Changes in Random Order")]),t._v(" "),e("ul",[e("li",[t._v("Ability to add and remove new animations in the animation editor.")]),t._v(" "),e("li",[t._v("Improvements for toolbar in the animation editor (tooltips, pictograms for buttons, new ui elements)")]),t._v(" "),e("li",[e("code",[t._v("Rectangle")]),t._v(" + "),e("code",[t._v("RectangleFilled")]),t._v(" primitives for "),e("code",[t._v("VectorImage")]),t._v(" widget.")]),t._v(" "),e("li",[t._v("Group animation tracks under respective nodes in the animation editor.")]),t._v(" "),e("li",[t._v("Property editor for "),e("code",[t._v("Machine")]),t._v(" type - shows "),e("code",[t._v("Open ABSM Editor")]),t._v(" button.")]),t._v(" "),e("li",[t._v("Property inheritance improvements for "),e("code",[t._v("AnimationPlayer")]),t._v(" and "),e("code",[t._v("AnimationBlendingStateMachine")]),t._v("\nscene nodes.")]),t._v(" "),e("li",[e("code",[t._v("impl PartialEq for Machine")]),t._v(" and its parts.")]),t._v(" "),e("li",[t._v("Ensure to sync sound source's buffer before setting its playback position.")]),t._v(" "),e("li",[t._v("Added missing property for "),e("code",[t._v("Status")]),t._v(" of sound sources.")]),t._v(" "),e("li",[t._v("Property editor for "),e("code",[t._v("AnimationContainer")]),t._v(" - shows "),e("code",[t._v("Open Animation Editor")]),t._v(" button.")]),t._v(" "),e("li",[t._v("Ability to set view bounds in the "),e("code",[t._v("CurveEditor")]),t._v(" widget.")]),t._v(" "),e("li",[t._v("Use "),e("code",[t._v("zoom-to-fit")]),t._v(" option in the animation editor when selecting a curve.")]),t._v(" "),e("li",[t._v("Fixed "),e("code",[t._v("zoom-to-fit")]),t._v(" functionality in the "),e("code",[t._v("CurveEditor")]),t._v(" widget.")]),t._v(" "),e("li",[t._v("Non-uniform zoom for "),e("code",[t._v("CurveEditor")]),t._v(" widget.")]),t._v(" "),e("li",[t._v("Animation selector for animation editor's toolbar.")]),t._v(" "),e("li",[t._v("Non-blocking resource awaiting before executing scripts logic.")]),t._v(" "),e("li",[e("code",[t._v("editor-wasm")]),t._v(" project for "),e("code",[t._v("fyrox-template")]),t._v(" to build your games for WebAssembly effortlessly.")]),t._v(" "),e("li",[e("code",[t._v("AsyncSceneLoader")]),t._v(" - universal asynchronous scene loader that works well on all supported\nplatforms (including WebAssembly).")]),t._v(" "),e("li",[t._v("Animation resource was removed.")]),t._v(" "),e("li",[t._v("Property editor for "),e("code",[t._v("Handle<Animation>")]),t._v(" type.")]),t._v(" "),e("li",[t._v("Animations imported from FBX files now have default name.")]),t._v(" "),e("li",[t._v("Ability to set name for animations.")])]),t._v(" "),e("h2",{attrs:{id:"support"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#support"}},[t._v("#")]),t._v(" Support")]),t._v(" "),e("p",[t._v("If you want to support the development of the project, click one of the links below. Preferable way is to use\n"),e("a",{attrs:{href:"https://boosty.to/fyrox",target:"_blank",rel:"noopener noreferrer"}},[t._v("Boosty"),e("OutboundLink")],1),t._v(" - this way the money will be available for the development immediately.\nAlternatively you can can use "),e("a",{attrs:{href:"https://www.patreon.com/mrdimas",target:"_blank",rel:"noopener noreferrer"}},[t._v("Patreon"),e("OutboundLink")],1),t._v(", but in this case the money will\nbe on-hold for unknown period of time ("),e("a",{attrs:{href:"https://github.com/FyroxEngine/Fyrox/issues/363",target:"_blank",rel:"noopener noreferrer"}},[t._v("details are here"),e("OutboundLink")],1),t._v(").")]),t._v(" "),e("p",[t._v("Also, you can help by fixing one of the "),e("a",{attrs:{href:"https://github.com/FyroxEngine/Fyrox/issues?q=is%3Aopen+is%3Aissue+label%3A%22good+first+issue%22",target:"_blank",rel:"noopener noreferrer"}},[t._v('"good first issues" '),e("OutboundLink")],1),t._v(",\nadding a desired feature to the engine, or making a contribution to the "),e("a",{attrs:{href:"https://github.com/fyrox-book",target:"_blank",rel:"noopener noreferrer"}},[t._v("book"),e("OutboundLink")],1)])])}),[],!1,null,null,null);e.default=a.exports}}]);