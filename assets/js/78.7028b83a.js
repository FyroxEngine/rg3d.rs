(window.webpackJsonp=window.webpackJsonp||[]).push([[78],{433:function(t,s,e){"use strict";e.r(s);var a=e(26),n=Object(a.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("p",[t._v("I'm happy to announce that Fyrox 0.33 has been released! Fyrox is a modern game engine written in Rust, it helps\nyou to create 2D and 3D games with low effort using native editor; it is like Unity, but in Rust. This release includes\nnew UI editor, rendering improvements, various editor improvements, script API improvements, async tasks, book improvements\nand more.")]),t._v(" "),s("h2",{attrs:{id:"introduction"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#introduction"}},[t._v("#")]),t._v(" Introduction")]),t._v(" "),s("p",[t._v("Before we begin, check out "),s("a",{attrs:{href:"https://fyrox.rs/examples.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("demo projects"),s("OutboundLink")],1),t._v(" of the engine - it is a set of applications\nand games made with the engine. You can also check "),s("a",{attrs:{href:"https://fyrox.rs/games.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("games"),s("OutboundLink")],1),t._v(" section of the website to\nsee which games are made using the engine.")]),t._v(" "),s("h2",{attrs:{id:"how-to-update"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#how-to-update"}},[t._v("#")]),t._v(" How to Update")]),t._v(" "),s("p",[t._v("At first, update the "),s("code",[t._v("fyrox-template")]),t._v(" by using "),s("code",[t._v("cargo install fyrox-template --force")]),t._v(" and then execute the following\ncommand in your project root directory: "),s("code",[t._v("fyrox-template upgrade --version=latest")]),t._v(". There will be some compilation\nerrors, but Rust compiler should help you to fix them. There are a lot of "),s("em",[t._v("small")]),t._v(" breaking changes that could be\nfixed pretty easily. Data compatibility was preserved in 99% of cases, so your previous assets should load fine.")]),t._v(" "),s("h2",{attrs:{id:"ui-editor"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ui-editor"}},[t._v("#")]),t._v(" UI Editor")]),t._v(" "),s("YtVideo",{attrs:{url:"https://www.youtube.com/embed/qQTxEK5TTxM"}}),t._v(" "),s("p",[t._v("This is the most important part of the new release. The UI editor was requested by the community quite a long time ago\nand now it's basic version is finally added. It still incomplete in some places, but despite that, very useful.")]),t._v(" "),s("p",[t._v("The editor can edit special kind of scene called UI-scene. UI scenes have pretty much nothing in common with\nstandard game scenes and completely isolated from them. There's a number of reasons why UI widgets are not\nclassic scene nodes and you can read about this "),s("a",{attrs:{href:"https://fyrox-book.github.io/ui/editor/editor.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("here"),s("OutboundLink")],1),t._v(".")]),t._v(" "),s("p",[t._v("To load a UI scene like in the video above and do some actions when buttons clicked, you can do the following:")]),t._v(" "),s("div",{staticClass:"language-rust extra-class"},[s("pre",{pre:!0,attrs:{class:"language-rust"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("pub")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("struct")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token type-definition class-name"}},[t._v("Game")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    new_game"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Handle")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("UiNode")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    exit"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Handle")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("UiNode")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("impl")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Game")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("pub")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("fn")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function-definition function"}},[t._v("new")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("_scene_path"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Option")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("str")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" ctx"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("PluginContext")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("->")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("Self")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Spawn async task that will load the UI.")]),t._v("\n        ctx"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("task_pool"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("spawn_plugin_task")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("UserInterface")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("::")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("load_from_file")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"menu.ui"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" ctx"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("resource_manager"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("clone")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token closure-params"}},[s("span",{pre:!0,attrs:{class:"token closure-punctuation punctuation"}},[t._v("|")]),t._v("result"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" game"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("mut")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Game")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" ctx"),s("span",{pre:!0,attrs:{class:"token closure-punctuation punctuation"}},[t._v("|")])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" ui "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" ctx"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("user_interface"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("ui "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" result"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("unwrap")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n                game"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("new_game "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" ui"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("find_by_name_down_from_root")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"NewGame"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n                game"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exit "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" ui"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("find_by_name_down_from_root")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Exit"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("Self")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            new_game"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Handle")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("::")]),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("NONE")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            exit"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Handle")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("::")]),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("NONE")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("impl")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Plugin")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Game")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("fn")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function-definition function"}},[t._v("on_ui_message")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("mut")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("self")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" ctx"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("mut")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("PluginContext")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" message"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("UiMessage")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Some")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ButtonMessage")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("::")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Click")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" message"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("data")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" message"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("destination")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("self")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("new_game "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                ctx"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("user_interface"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("send_message")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("WidgetMessage")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("::")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("visibility")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n                    ctx"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("user_interface"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("root")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                    "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("MessageDirection")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("::")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ToWidget")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                    "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" message"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("destination")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("self")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exit "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Some")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("window_target"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" ctx"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("window_target "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                    window_target"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("exit")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[t._v("This code spawns an async task in "),s("code",[t._v("Game::new")]),t._v(" that will load the UI scene in a separate thread and when it\nis done, it will replace current UI instance in the context with the loaded one. To do something useful when\nour buttons clicked we're using "),s("code",[t._v("on_ui_message")]),t._v(" method from plugin - it is called when there's any message\nfrom the UI.")]),t._v(" "),s("h2",{attrs:{id:"navigational-mesh"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#navigational-mesh"}},[t._v("#")]),t._v(" Navigational Mesh")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://fyrox-book.github.io/ai/navmesh.gif",alt:"navmesh"}})]),t._v(" "),s("p",[t._v("Navigation on navmeshes was improved using string pulling algorithm. This algorithm straightens path on the\nnavmesh and makes it less jagged. It also possible now to specify radius for navmesh agent and it will use\nthis radius to turn around the corners of the navmesh like so:")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://fyrox-book.github.io/ai/agent_radius.gif",alt:"navmesh2"}})]),t._v(" "),s("p",[t._v("It is now possible to calculate paths on a navmesh using async tasks. It could be done like so in one of your\nscripts:")]),t._v(" "),s("div",{staticClass:"language-rust extra-class"},[s("pre",{pre:!0,attrs:{class:"language-rust"}},[s("code",[s("span",{pre:!0,attrs:{class:"token attribute attr-name"}},[t._v("#[derive(Visit, Default, Reflect, Debug, Clone)]")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("struct")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token type-definition class-name"}},[t._v("MyScript")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    navmesh"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Handle")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Node")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    path"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Option")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Vec")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Vector3")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("f32")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">>")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("impl")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ScriptTrait")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("MyScript")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("fn")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function-definition function"}},[t._v("on_start")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("mut")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("self")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" ctx"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("mut")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ScriptContext")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Borrow a navigational mesh scene node first.")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Some")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("navmesh_node"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" ctx\n            "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("scene\n            "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("graph\n            "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("try_get_of_type")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("::")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("NavigationalMesh")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("self")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("navmesh"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Take a shared reference to the internal navigational mesh.")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" shared_navmesh "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" navmesh_node"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("navmesh")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n            "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Spawn a task, that will calculate a long path.")]),t._v("\n            ctx"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("task_pool"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("spawn_script_task")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n                ctx"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("scene_handle"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                ctx"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("handle"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("async")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("move")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" navmesh "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" shared_navmesh"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("read")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n                    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Some")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("_"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" begin_index"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("\n                        navmesh"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("query_closest")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Vector3")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("::")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("new")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1.0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3.0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n                    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Some")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("_"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" end_index"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("\n                            navmesh"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("query_closest")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Vector3")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("::")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("new")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("500.0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("800.0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n                        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                            "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("mut")]),t._v(" path "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Vec")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("::")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("new")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n                            "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" navmesh\n                                "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("build_path")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("begin_index"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" end_index"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("mut")]),t._v(" path"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n                                "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("is_ok")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n                            "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                                "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Some")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("path"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n                            "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n                        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n                    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n                    "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("None")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token closure-params"}},[s("span",{pre:!0,attrs:{class:"token closure-punctuation punctuation"}},[t._v("|")]),t._v("path"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" this"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("mut")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("MyScript")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" _ctx"),s("span",{pre:!0,attrs:{class:"token closure-punctuation punctuation"}},[t._v("|")])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                    this"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("path "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" path"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n                    "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("::")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("info")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Path is calculated!"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("fn")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function-definition function"}},[t._v("on_update")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("mut")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("self")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" ctx"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("mut")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ScriptContext")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Draw the computed path.")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Some")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("path"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("self")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("path"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("as_ref")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" segment "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" path"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("windows")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                ctx"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("scene"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("drawing_context"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("add_line")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Line")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                    begin"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" segment"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                    end"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" segment"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                    color"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Default")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("::")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("default")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[t._v("This could be useful for large game levels with complex navigational meshes where you can spawn multiple tasks per\nframe (or per bunch of frames) to do calculations asynchronously.")]),t._v(" "),s("h2",{attrs:{id:"scripts"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#scripts"}},[t._v("#")]),t._v(" Scripts")]),t._v(" "),s("p",[t._v("Scripting API was significantly improved and now you need to write much less code and you have much wider\naccess to the engine entities from scripts. This is how a smallest possible script was look like in Fyrox 0.32:")]),t._v(" "),s("div",{staticClass:"language-rust extra-class"},[s("pre",{pre:!0,attrs:{class:"language-rust"}},[s("code",[s("span",{pre:!0,attrs:{class:"token attribute attr-name"}},[t._v("#[derive(Visit, Reflect, Default, Debug, Clone)]")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("pub")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("struct")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token type-definition class-name"}},[t._v("MyScript")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token macro property"}},[t._v("impl_component_provider!")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("MyScript")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("impl")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("TypeUuidProvider")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("MyScript")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("fn")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function-definition function"}},[t._v("type_uuid")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("->")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Uuid")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token macro property"}},[t._v("uuid!")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"948ba50d-0fd1-4947-b94c-0d6080bb6f74"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("impl")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ScriptTrait")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("MyScript")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("fn")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function-definition function"}},[t._v("id")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("self")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("->")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Uuid")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("Self")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("::")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("type_uuid")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[t._v("And this is how it looks like in 0.33:")]),t._v(" "),s("div",{staticClass:"language-rust extra-class"},[s("pre",{pre:!0,attrs:{class:"language-rust"}},[s("code",[s("span",{pre:!0,attrs:{class:"token attribute attr-name"}},[t._v("#[derive(Visit, Reflect, Default, Debug, Clone, TypeUuidProvider, ComponentProvider)]")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token attribute attr-name"}},[t._v("#[type_uuid(id = "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"4a6399ac-2f3e-4488-8ea9-743abb86ab36"')]),t._v(")]")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token attribute attr-name"}},[t._v("#[visit(optional)]")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("pub")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("struct")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token type-definition class-name"}},[t._v("MyScript")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("impl")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ScriptTrait")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("MyScript")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[t._v("The new version significantly smaller: 5 lines of code vs 13 in the old version. This greatly reduces any\ndistractions with insignificant portions of code and helps you to focus on your own code. What's previously was\nimplemented using macros, now is implemented using "),s("code",[t._v("#[derive]")]),t._v(" attribute. As you can see, "),s("code",[t._v("TypeUuidProvider")]),t._v(" and\n"),s("code",[t._v("ComponentProvider")]),t._v(" now implemented this way. Also, please note a new attribute at the top of the script declaration:\n"),s("code",[t._v("#[visit(optional)]")]),t._v(" it marks all fields of the struct optional, and the deserializer won't complain if some field\nis missing on load. This is very useful, to be able to add new fields freely to your script.")]),t._v(" "),s("p",[t._v("Scripts now have access to current graphics context (which gives you access to the main window and renderer),\ntask pool (allows you to spawn async tasks from scripts), user interface (now you can directly access widgets\nfrom scripts), current scene handle.")]),t._v(" "),s("p",[t._v("In Fyrox 0.32, "),s("code",[t._v("ScriptContext")]),t._v(" had "),s("code",[t._v("plugins")]),t._v(" field, which gives you access to plugins from scripts. It was\nquite tedious to access plugins from scripts: "),s("code",[t._v("ctx.plugins.iter().find_map(|p| p.cast::<MyPlugin>()).unwrap()")]),t._v(". Now\nit is much easier: "),s("code",[t._v("ctx.plugins.get::<MyPlugin>()")]),t._v(".")]),t._v(" "),s("h2",{attrs:{id:"async-tasks"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#async-tasks"}},[t._v("#")]),t._v(" Async Tasks")]),t._v(" "),s("p",[t._v("Fyrox now supports task-based programming for both scripts and plugins. Task is a closure that does something in a\nseparate thread and then the result of it is returned back to the main thread. This is very useful technique, that\nallows you to perform heavy calculations using all available CPU power, not just one CPU core with a single main\nthread. Tasks could be used for pretty much anything, that can be done as a separate piece of work. Graphically\nit could represented like this:")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://fyrox-book.github.io/scripting/task.svg",alt:"tasks"}})]),t._v(" "),s("p",[t._v("For example, this is how you can spawn a task in your plugin that loads a file in a separate thread and when it's\ndone, it stores the loaded data in the plugin itself on the main thread.")]),t._v(" "),s("div",{staticClass:"language-rust extra-class"},[s("pre",{pre:!0,attrs:{class:"language-rust"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("struct")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token type-definition class-name"}},[t._v("MyGameConstructor")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("impl")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("PluginConstructor")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("MyGameConstructor")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("fn")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function-definition function"}},[t._v("create_instance")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("self")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        _scene_path"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Option")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("str")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        context"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("PluginContext")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("->")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Box")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("dyn")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Plugin")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Box")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("::")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("new")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("MyGame")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("::")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("new")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("context"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("struct")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token type-definition class-name"}},[t._v("MyGame")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Option")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Vec")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("u8")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">>")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("impl")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("MyGame")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("pub")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("fn")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function-definition function"}},[t._v("new")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("context"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("PluginContext")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("->")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("Self")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        context"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("task_pool"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("spawn_plugin_task")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Emulate heavy task by reading a potentially large file. The game will be fully")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// responsive while it runs.")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("async")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("move")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("mut")]),t._v(" file "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("File")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("::")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("open")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"some/file.txt"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("unwrap")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("mut")]),t._v(" data "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Vec")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("::")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("new")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n                file"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("read_to_end")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("mut")]),t._v(" data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("unwrap")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n                data\n            "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// This closure is called when the future above has finished, but not immediately - on")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// the next update iteration.")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token closure-params"}},[s("span",{pre:!0,attrs:{class:"token closure-punctuation punctuation"}},[t._v("|")]),t._v("data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" game"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("mut")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("MyGame")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" _context"),s("span",{pre:!0,attrs:{class:"token closure-punctuation punctuation"}},[t._v("|")])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Store the data in the game instance.")]),t._v("\n                game"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("data "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Some")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n        "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Immediately return the new game instance with empty data.")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("Self")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("None")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("impl")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Plugin")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("MyGame")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("fn")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function-definition function"}},[t._v("update")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("mut")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("self")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" _context"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("mut")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("PluginContext")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Do something with the data.")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Some")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("self")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("take")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token macro property"}},[t._v("println!")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"The data is: {:?}"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[t._v("Tasks should be used to perform sensible amount of work, simply because each task has its own overhead and it could\nbe larger than the actual task if the task is tiny.")]),t._v(" "),s("h2",{attrs:{id:"dynamic-font-atlas"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#dynamic-font-atlas"}},[t._v("#")]),t._v(" Dynamic Font Atlas")]),t._v(" "),s("p",[t._v("For a long time fonts in Fyrox had quite rudimentary support and it was quite tricky to change font size of a text\nat runtime. In this release this was finally fixed by adding support for dynamic font atlases. Dynamic atlas is a\nvery simple concept: texture atlas of the font is split into multiple pages, where each page corresponds to its own\ncharacter size and each pages could also be split into multiple chunks. Multiple chunks is needed, because there's\nis a hardware limit for the maximum texture size.")]),t._v(" "),s("p",[t._v("You can now easily change font size in the UI of Text and TextBox widgets, this could be done like so:")]),t._v(" "),s("div",{staticClass:"language-rust extra-class"},[s("pre",{pre:!0,attrs:{class:"language-rust"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("fn")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function-definition function"}},[t._v("set_font_size")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("text"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Handle")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("UiNode")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" ui"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("UserInterface")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" new_font_size"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("f32")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    ui"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("send_message")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("TextMessage")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("::")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("font_size")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n        text"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("MessageDirection")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("::")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ToWidget")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        new_font_size"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("h2",{attrs:{id:"batching"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#batching"}},[t._v("#")]),t._v(" Batching")]),t._v(" "),s("p",[t._v("Some parts of renderer now uses batching for rendering that improves rendering performance quite a lot. It is now\nused in 2D rendering, particle systems, 3D sprites.")]),t._v(" "),s("h2",{attrs:{id:"animation-refactoring"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#animation-refactoring"}},[t._v("#")]),t._v(" Animation Refactoring")]),t._v(" "),s("p",[t._v("Animation-related code was isolated in a separate crate called "),s("code",[t._v("fyrox-animation")]),t._v(". Despite the name of it you\ncan still use it without Fyrox at all. The crate provides quite powerful ready-to-use animation system, that\nincludes:")]),t._v(" "),s("ul",[s("li",[t._v("Key frame animation.")]),t._v(" "),s("li",[t._v("Animation blending with state machine.")]),t._v(" "),s("li",[t._v("Timeline events.")]),t._v(" "),s("li",[t._v("Root motion.")]),t._v(" "),s("li",[t._v("Optional reflection-based property modification of an animatable object.")]),t._v(" "),s("li",[t._v("Sprite sheet animation.")])]),t._v(" "),s("p",[t._v("It was moved into the separate crate, because there's a plan to add animation support for the user interface\nscenes, that were introduced in this release.")]),t._v(" "),s("h2",{attrs:{id:"io-abstraction"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#io-abstraction"}},[t._v("#")]),t._v(" IO Abstraction")]),t._v(" "),s("p",[t._v("It is now possible to use new IO abstraction to add support for virtual file systems. It could be used to provide\naccess to assets located in ZIP-archives for example.")]),t._v(" "),s("p",[s("img",{attrs:{src:"/assets/0.33/resource_loader.png",alt:"resource io"}})]),t._v(" "),s("h2",{attrs:{id:"material-rework"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#material-rework"}},[t._v("#")]),t._v(" Material Rework")]),t._v(" "),s("p",[t._v("Material is was turned into resource, which means that you can save materials on disk, share them across\nmultiple surfaces. Sprites (3D), rectangles (2D), particle systems are now using materials instead of dedicated\nrenderer with limited functionality. This greatly improves rendering flexibility.")]),t._v(" "),s("h2",{attrs:{id:"editor-improvements"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#editor-improvements"}},[t._v("#")]),t._v(" Editor Improvements")]),t._v(" "),s("p",[t._v("The editor has a ton of various changes, improves and fixes. Here's the most significant changes.")]),t._v(" "),s("h3",{attrs:{id:"edge-highlighting"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#edge-highlighting"}},[t._v("#")]),t._v(" Edge Highlighting")]),t._v(" "),s("p",[s("img",{attrs:{src:"/assets/0.33/highlight.gif",alt:"highlight"}})]),t._v(" "),s("p",[t._v("The editor now highlights currently selected objects, which helps to find the selected object and see its\nactual shape. This is especially useful if you either have a dark area or a bunch of objects.")]),t._v(" "),s("h3",{attrs:{id:"gizmo-improvements"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#gizmo-improvements"}},[t._v("#")]),t._v(" Gizmo Improvements")]),t._v(" "),s("p",[s("img",{attrs:{src:"/assets/0.33/gizmo.gif",alt:"gizmo"}})]),t._v(" "),s("p",[t._v("Movement, rotation, scaling gizmos were improved in this release. The gizmos are now react to the cursor which\nmakes it much more comfortable to work with - you definitely know that you're clicking on a gizmo,\nnot something behind it. In general, all gizmos now are closer to the industry standard.")]),t._v(" "),s("h3",{attrs:{id:"collider-fitting"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#collider-fitting"}},[t._v("#")]),t._v(" Collider Fitting")]),t._v(" "),s("p",[t._v("It is now possible to fit colliders to actual object bounds in just one click. The editor now automatically opens\na collider control panel with a single "),s("code",[t._v("Fit")]),t._v(" button.")]),t._v(" "),s("h3",{attrs:{id:"ability-to-create-assets"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ability-to-create-assets"}},[t._v("#")]),t._v(" Ability to Create Assets")]),t._v(" "),s("p",[t._v("Asset browser can now create new assets and save them to disk. This could be done using small "),s("code",[t._v("+")]),t._v(" button near the\nsearch bar:")]),t._v(" "),s("p",[s("img",{attrs:{src:"/assets/0.33/new_asset.png",alt:"new asset"}})]),t._v(" "),s("p",[t._v("You can create not just built-in asset types from this window, but also your own resource types.")]),t._v(" "),s("h3",{attrs:{id:"camera-visualization"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#camera-visualization"}},[t._v("#")]),t._v(" Camera Visualization")]),t._v(" "),s("p",[s("img",{attrs:{src:"/assets/0.33/camera_frustum.png",alt:"camera frustum"}})]),t._v(" "),s("p",[t._v("Camera frustum is now visualized in the editor which makes it easier to position and find it in the scene.")]),t._v(" "),s("h3",{attrs:{id:"ability-to-move-assets"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ability-to-move-assets"}},[t._v("#")]),t._v(" Ability to Move Assets")]),t._v(" "),s("p",[t._v("You can now move assets and folders with assets in the Asset Browser. This operation automatically fixes all the\nlinks in the assets that has references to the moved ones.")]),t._v(" "),s("h3",{attrs:{id:"placeholder-texture"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#placeholder-texture"}},[t._v("#")]),t._v(" Placeholder Texture")]),t._v(" "),s("p",[s("img",{attrs:{src:"/assets/0.33/placeholder.png",alt:"placeholder"}})]),t._v(" "),s("p",[t._v("The editor now assigns a placeholder texture for objects without a texture to make them look nicer. This texture\nis also available in the asset browser and can be assigned to pretty much any material.")]),t._v(" "),s("h3",{attrs:{id:"other"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#other"}},[t._v("#")]),t._v(" Other")]),t._v(" "),s("p",[t._v("It is now possible to start the editor with multiple scenes at once. This saves a lot of time when you need to\nwork with a bunch of scenes and restart the editor often.")]),t._v(" "),s("p",[t._v("You can now connect a state with every other in the ABSM editor like so:")]),t._v(" "),s("p",[s("img",{attrs:{src:"/assets/0.33/transition.gif",alt:"transition"}})]),t._v(" "),s("h2",{attrs:{id:"network"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#network"}},[t._v("#")]),t._v(" Network")]),t._v(" "),s("p",[t._v("This release also contains some experimental support for multiplayer games. "),s("code",[t._v("fyrox-core")]),t._v(" now have a "),s("code",[t._v("net")]),t._v(" module,\nwhich contains a thin abstraction layer, that allows you to establish connection between devices over the network\nand send various messages between them. You can see it in action in\n"),s("a",{attrs:{href:"https://github.com/mrDIMAS/FishFolly",target:"_blank",rel:"noopener noreferrer"}},[t._v("this project"),s("OutboundLink")],1),t._v(".")]),t._v(" "),s("h2",{attrs:{id:"book-improvements"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#book-improvements"}},[t._v("#")]),t._v(" Book Improvements")]),t._v(" "),s("p",[t._v("The book in this release has tons of improvements as well, there are the following changes:")]),t._v(" "),s("ul",[s("li",[t._v("Tutorials rework (see below)")]),t._v(" "),s("li",[t._v("Custom widgets")]),t._v(" "),s("li",[t._v("Navmesh improvements")]),t._v(" "),s("li",[t._v("Shaders usage example")]),t._v(" "),s("li",[t._v("Built-in properties of shaders")]),t._v(" "),s("li",[t._v("Drawing parameters")]),t._v(" "),s("li",[t._v("Animation usage")]),t._v(" "),s("li",[t._v("Animation signals")]),t._v(" "),s("li",[t._v("ABSM chapter improvements (including events)")]),t._v(" "),s("li",[t._v("Mesh data buffers")]),t._v(" "),s("li",[t._v("Ui Editor")]),t._v(" "),s("li",[t._v("Font chapter rework")]),t._v(" "),s("li",[t._v("Changed default theme to dark")]),t._v(" "),s("li",[t._v("Removed obsolete information")]),t._v(" "),s("li",[t._v("Added chapters for "),s("code",[t._v("Screen")]),t._v(", "),s("code",[t._v("ScrollViewer")]),t._v(", "),s("code",[t._v("ScrollPanel")]),t._v(", "),s("code",[t._v("VectorImage")]),t._v(" widgets.")]),t._v(" "),s("li",[t._v("Chapter about root motion")]),t._v(" "),s("li",[t._v("Async tasks")]),t._v(" "),s("li",[t._v("Light maps")]),t._v(" "),s("li",[t._v("Input handling (mouse, keyboard)")]),t._v(" "),s("li",[t._v("Sprite animation")]),t._v(" "),s("li",[t._v("Accessing other script's data")]),t._v(" "),s("li",[t._v("Window management")]),t._v(" "),s("li",[t._v("NixOS build instructions (kudos to "),s("a",{attrs:{href:"https://github.com/stillinbeta",target:"_blank",rel:"noopener noreferrer"}},[t._v("@stillinbeta"),s("OutboundLink")],1),t._v(")")])]),t._v(" "),s("p",[t._v("The book is also slowly getting refactored - source code of snippets is now slowly moving from the book\nsource to a separate cargo project, and the code snippets are referenced directly from this project.")]),t._v(" "),s("h2",{attrs:{id:"tutorials"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#tutorials"}},[t._v("#")]),t._v(" Tutorials")]),t._v(" "),s("p",[t._v("FPS tutorial was fully rewritten using the latest engine version. As before, it is split in three\nparts:")]),t._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"https://fyrox-book.github.io/tutorials/fps/tutorial-1/fps-tutorial.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("Character Controller"),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"https://fyrox-book.github.io/tutorials/fps/tutorial-2/fps-tutorial-2.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("Weapons"),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"https://fyrox-book.github.io/tutorials/fps/tutorial-3/fps-tutorial-3.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("Bots and AI"),s("OutboundLink")],1)])]),t._v(" "),s("p",[t._v("There's also a set of community tutorials, which you can find in the "),s("a",{attrs:{href:"https://fyrox-book.github.io/tutorials/community.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("respective chapter"),s("OutboundLink")],1),t._v(" of the book.")]),t._v(" "),s("h2",{attrs:{id:"full-list-of-changes"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#full-list-of-changes"}},[t._v("#")]),t._v(" Full List of Changes")]),t._v(" "),s("p",[t._v("The list is split into four sections for ease of reading and finding particular information.")]),t._v(" "),s("h3",{attrs:{id:"added"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#added"}},[t._v("#")]),t._v(" Added")]),t._v(" "),s("ul",[s("li",[t._v("UI editor.")]),t._v(" "),s("li",[t._v("Tasks system for scripts and plugins.")]),t._v(" "),s("li",[t._v("Implemented dynamic font atlas.")]),t._v(" "),s("li",[t._v("Batching for 2D graphics.")]),t._v(" "),s("li",[t._v("Ability to move resources and folders in the Asset Browser.")]),t._v(" "),s("li",[t._v("Edge highlighting for selection in the editor.")]),t._v(" "),s("li",[t._v("Added an ability to create resources from asset browser.")]),t._v(" "),s("li",[t._v("Added height parameter for "),s("code",[t._v("Text")]),t._v(" and "),s("code",[t._v("TextBox")]),t._v(" widgets.")]),t._v(" "),s("li",[t._v("Ability to specify IO abstraction when loading user interface.")]),t._v(" "),s("li",[s("code",[t._v("Utf32StringPropertyEditorDefinition")]),t._v(" to edit "),s("code",[t._v("Vec<char>")]),t._v(" UTF32 strings.")]),t._v(" "),s("li",[s("code",[t._v("RefCellPropertyEditorDefinition")]),t._v(" for "),s("code",[t._v("RefCell<T>")]),t._v(" types.")]),t._v(" "),s("li",[t._v("Enable reflection + serialization for formatted text and its instances.")]),t._v(" "),s("li",[t._v("Built in font resource.")]),t._v(" "),s("li",[t._v("Font resource property editor with font preview.")]),t._v(" "),s("li",[t._v("Ability to assign fonts from asset browser.")]),t._v(" "),s("li",[t._v("Reflection for resources.")]),t._v(" "),s("li",[t._v("UI graph manipulation methods.")]),t._v(" "),s("li",[s("code",[t._v("Screen")]),t._v(" widget  automatically fits to the current screen size.")]),t._v(" "),s("li",[t._v("Show type name in world viewer for widgets.")]),t._v(" "),s("li",[t._v("Ability to specify ignored types for "),s("code",[t._v("Reflect::apply_recursively")]),t._v(".")]),t._v(" "),s("li",[t._v("Preview for curve and hrir resources.")]),t._v(" "),s("li",[t._v("Ability to open a window at desired position.")]),t._v(" "),s("li",[t._v("Ability to edit textures as UntypedResource in widgets.")]),t._v(" "),s("li",[t._v("Implemented "),s("code",[t._v("Serialize + Deserialize + Display")]),t._v(" traits for "),s("code",[t._v("ErasedHandle")]),t._v(".")]),t._v(" "),s("li",[t._v("Smart positioning for contextual floating panels in the editor.")]),t._v(" "),s("li",[s("code",[t._v("WidgetMessage::Align")]),t._v(" + "),s("code",[t._v("WindowMessage::OpenAndAlign")]),t._v(" messages.")]),t._v(" "),s("li",[t._v("Ability to invalidate layout for all widgets at once.")]),t._v(" "),s("li",[t._v("Ability to mark all fields of a struct/enum optional when deserializing: "),s("code",[t._v("#[visit(optional)]")]),t._v(" can now be\nadded to a struct/enum directly, thus overriding all other such attributes on fields.")]),t._v(" "),s("li",[t._v("Added access to user interface, task pool, graphics context, current scene handle for scripts.")]),t._v(" "),s("li",[s("code",[t._v("PluginsRefMut::get/get_mut/of_type_ref/of_type_mut")]),t._v(" methods.")]),t._v(" "),s("li",[t._v("Added a bunch of "),s("code",[t._v("#[inline]")]),t._v(" attributes for "),s("code",[t._v("Pool")]),t._v(" for slight performance improvements.")]),t._v(" "),s("li",[t._v("Added "),s("code",[t._v("AtomicHandle")]),t._v(" that can be modified using interrior mutability.")]),t._v(" "),s("li",[t._v("Ability to pass pixel kind to the "),s("code",[t._v("Renderer::render_ui_to_texture")]),t._v(" method.")]),t._v(" "),s("li",[t._v("Show material resource state in the material field editor.")]),t._v(" "),s("li",[t._v("Ability to scroll to the end of the content for "),s("code",[t._v("ScrollViewer")]),t._v(" and "),s("code",[t._v("ScrollPanel")]),t._v(" widgets.")]),t._v(" "),s("li",[t._v("Ability to save and load light maps into/from a file.")]),t._v(" "),s("li",[t._v("Ability to repeat clicks of a button while it is pressed.")]),t._v(" "),s("li",[t._v("Ability to open materials for editing from the asset browser.")]),t._v(" "),s("li",[t._v("Ability to filter a list of types when using reflection for fields iteration.")]),t._v(" "),s("li",[t._v("Implemented "),s("code",[t._v("PartialOrd + Ord")]),t._v(" traits for "),s("code",[t._v("Handle")]),t._v(" type.")]),t._v(" "),s("li",[t._v("Added icon in the asset browser for material resources.")]),t._v(" "),s("li",[t._v("Ability to pass generics to "),s("code",[t._v("uuid_provider")]),t._v(" macro.")]),t._v(" "),s("li",[t._v("Ability to share navigational mesh across multiple threads.")]),t._v(" "),s("li",[t._v("Implemented "),s("code",[t._v("Reflect")]),t._v(" trait for "),s("code",[t._v("RwLock")]),t._v(".")]),t._v(" "),s("li",[s("code",[t._v("UserInterface::find_by_name_down_from_root")]),t._v(" method to search widgets by name.")]),t._v(" "),s("li",[t._v("Implemented "),s("code",[t._v("Send")]),t._v(" trait for UI entities.")]),t._v(" "),s("li",[t._v("Added user interface resource.")]),t._v(" "),s("li",[t._v("Collider control panel with ability to fit colliders to parent bounds.")]),t._v(" "),s("li",[t._v("Property editor for vector image's primitives.")]),t._v(" "),s("li",[t._v("Show warning in the log when there's script message with no subscribers.")]),t._v(" "),s("li",[t._v("Implemented "),s("code",[t._v("TypeUuidProvider")]),t._v(" trait for standard types.")]),t._v(" "),s("li",[t._v("Ability to specify clear color in "),s("code",[t._v("Renderer::render_ui_to_texture")]),t._v(".")]),t._v(" "),s("li",[t._v("Added icon in the asset browser for shader resources.")]),t._v(" "),s("li",[t._v("Ability to copy widgets from UI to UI.")]),t._v(" "),s("li",[t._v("Ability to create ragdolls from "),s("code",[t._v("Create")]),t._v(" menu.")]),t._v(" "),s("li",[t._v("Added an ability to rebind tracks in the animation editor.")]),t._v(" "),s("li",[t._v("Added a set of standard materials, exposed them in the editor.")]),t._v(" "),s("li",[t._v("Added placeholder texture.")]),t._v(" "),s("li",[t._v("Ability to fetch resource import options from their respective loaders.")]),t._v(" "),s("li",[t._v("Implemented "),s("code",[t._v("Visit")]),t._v(" and "),s("code",[t._v("Reflect")]),t._v(" traits for "),s("code",[t._v("char")]),t._v(".")]),t._v(" "),s("li",[t._v("Ability to specify icons for assets in respective preview generators.")]),t._v(" "),s("li",[s("code",[t._v("TypedResourceData")]),t._v(" trait to be able to set correct default state of a resource.")]),t._v(" "),s("li",[t._v("Implemented "),s("code",[t._v("ResourceData::save")]),t._v(" for built-in engine resource types.")]),t._v(" "),s("li",[t._v("Documentation for LODs.")]),t._v(" "),s("li",[t._v("Color constants for the colors with names.")]),t._v(" "),s("li",[t._v("Ability to save resources.")]),t._v(" "),s("li",[s("code",[t._v("ResourceLoader::supports_extension")]),t._v(" method.")]),t._v(" "),s("li",[t._v("Implemented "),s("code",[t._v("Error")]),t._v(" trait for "),s("code",[t._v("VisitError")]),t._v(".")]),t._v(" "),s("li",[s("code",[t._v("Material::set_texture")]),t._v(" shortcut.")]),t._v(" "),s("li",[t._v("Implemented "),s("code",[t._v("From<&str>")]),t._v(" trait for "),s("code",[t._v("ImmutableString")]),t._v(".")]),t._v(" "),s("li",[t._v("Added normalization option for vertex attribute descriptor.")]),t._v(" "),s("li",[t._v("Added experimental network abstraction layer.")]),t._v(" "),s("li",[t._v("Added frustum culling for rectangle node.")]),t._v(" "),s("li",[t._v("Added camera view pyramid visualization (kudos to "),s("a",{attrs:{href:"https://github.com/dasimonde",target:"_blank",rel:"noopener noreferrer"}},[t._v("@dasimonde"),s("OutboundLink")],1),t._v(").")]),t._v(" "),s("li",[t._v("Added IO abstraction for resource system (kudos to "),s("a",{attrs:{href:"https://github.com/jacobtread",target:"_blank",rel:"noopener noreferrer"}},[t._v("@jacobtread"),s("OutboundLink")],1),t._v(").")]),t._v(" "),s("li",[t._v("Added "),s("code",[t._v("Reflect")]),t._v(", "),s("code",[t._v("Debug")]),t._v(", "),s("code",[t._v("Visit")]),t._v(" trait implementations for UI widgets.")]),t._v(" "),s("li",[t._v("Added "),s("code",[t._v("Visit")]),t._v(" trait implementation for "),s("code",[t._v("usize/isize")]),t._v(".")]),t._v(" "),s("li",[t._v("Added "),s("code",[t._v("ResourceIo::move_file")]),t._v(" method.")]),t._v(" "),s("li",[t._v("Added "),s("code",[t._v("ResourceManager::move_resource")]),t._v(" method with filtering.")]),t._v(" "),s("li",[t._v("Added "),s("code",[t._v("Drop")]),t._v(" message for "),s("code",[t._v("FileBrowser")]),t._v(" with dropped path.")]),t._v(" "),s("li",[t._v("Added "),s("code",[t._v("ResourceIo::canonicalize_path")]),t._v(".")]),t._v(" "),s("li",[t._v("Added "),s("code",[t._v("Pool::generate_free_handles")]),t._v(" methods.")]),t._v(" "),s("li",[t._v("Added "),s("code",[t._v("InteractionMode::make_button")]),t._v(" method that creates appropriate button for the mode.")])]),t._v(" "),s("h3",{attrs:{id:"changed"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#changed"}},[t._v("#")]),t._v(" Changed")]),t._v(" "),s("ul",[s("li",[t._v("Major editor refactoring to support new UI scenes.")]),t._v(" "),s("li",[t._v("Moved low level animation modules into fyrox-animation crate.\n"),s("ul",[s("li",[t._v("Type aliases for scene specific animation entities + preludes.")]),t._v(" "),s("li",[t._v("Texture as generic parameter for sprite sheet animation.")])])]),t._v(" "),s("li",[t._v("Turn font into resource + added "),s("code",[t._v("TextMessage::Height")]),t._v(".")]),t._v(" "),s("li",[t._v("Make standard built-in shaders non-procedural by default.")]),t._v(" "),s("li",[t._v("Refactored internal structure of resources.\n"),s("ul",[s("li",[t._v("All resource related data is now stored in "),s("code",[t._v("ResourceHeader")]),t._v(" instead of being scattered all around in "),s("code",[t._v("ResourceState")]),t._v("\nvariants and even in resource data itself.")]),t._v(" "),s("li",[t._v("Backward compatibility is preserved.")]),t._v(" "),s("li",[s("code",[t._v("ResourceKind")]),t._v(" instead of path+flag, refactored resource loader trait.")])])]),t._v(" "),s("li",[t._v("Refactored interaction modes in the editor.")]),t._v(" "),s("li",[t._v("Switched to UntypedResource from SharedTexture in ui")]),t._v(" "),s("li",[t._v("Simplified usage of "),s("code",[t._v("ResourceManager::request/try_request")]),t._v(". No need to write "),s("code",[t._v("rm.request<Type, _>")]),t._v(", just "),s("code",[t._v("rm.request<Type>")]),t._v(".")]),t._v(" "),s("li",[t._v("Registered Light Panel in floating panels, so it can be docked.")]),t._v(" "),s("li",[t._v("Made searching in the asset browser smarter.")]),t._v(" "),s("li",[t._v("GPU resources cache refactoring.")]),t._v(" "),s("li",[t._v("Speed up access to textures.")]),t._v(" "),s("li",[t._v("Automatic implementation of "),s("code",[t._v("ScriptTrait::id()")]),t._v(" method. This implementation now should be removed from your\nscripts.")]),t._v(" "),s("li",[t._v("Scroll to the end of build log in the editor.")]),t._v(" "),s("li",[t._v("Prevented build window from closing when a build has failed.")]),t._v(" "),s("li",[t._v("Tweaked node handle property editor to also work with ui widgets.")]),t._v(" "),s("li",[t._v("Filter out texture bytes in the property selector to improve performance.")]),t._v(" "),s("li",[t._v("Enabled clicks repetition mode for scroll bar increase/decrease buttons.")]),t._v(" "),s("li",[t._v("Keep the editor active if there's any captured ui element.")]),t._v(" "),s("li",[t._v("Increased scroll bar step for scroll viewer.")]),t._v(" "),s("li",[t._v("Added filter argument for "),s("code",[t._v("aabb_of_descendants")]),t._v(".")]),t._v(" "),s("li",[t._v("Use abstract EntityId instead of ErasedHandle in animation entities.")]),t._v(" "),s("li",[t._v("Optimized internals of navigation mesh.")]),t._v(" "),s("li",[t._v("Prevented serialization of the data of external resources.")]),t._v(" "),s("li",[t._v("Pass screen size to "),s("code",[t._v("Control::update")]),t._v(".")]),t._v(" "),s("li",[t._v("Ability to clone user interface entirely.")]),t._v(" "),s("li",[t._v("Refactored scene saving dialogs in the editor to make them more stable.")]),t._v(" "),s("li",[t._v("Made "),s("code",[t._v("Limb::iterate_recursive")]),t._v(" method public.")]),t._v(" "),s("li",[t._v("Switch character rigid body to kinematic when a ragdoll is active.")]),t._v(" "),s("li",[t._v("Keep menu items highlighted when opening a menu chain.")]),t._v(" "),s("li",[t._v("Gizmo improvements for navmesh interaction mode.")]),t._v(" "),s("li",[t._v("Open navmesh panel at the top right of the scene preview when selecting a navmesh scene node.")]),t._v(" "),s("li",[t._v("Improved visualization in the dependency viewer.")]),t._v(" "),s("li",[t._v("Made asset import options inspector generic.")]),t._v(" "),s("li",[t._v("Provide access to material context in the renderer.")]),t._v(" "),s("li",[t._v("Movement, scale, rotation gizmo improvements.")]),t._v(" "),s("li",[t._v("Mutable access for ui nodes.")]),t._v(" "),s("li",[t._v("Preload resources before generating preview for them.")]),t._v(" "),s("li",[t._v("Made world viewer to accept data provider instead of scene directly.")]),t._v(" "),s("li",[t._v("Replaced "),s("code",[t._v("Cow<Path>")]),t._v(" with "),s("code",[t._v("&Path")]),t._v(" in "),s("code",[t._v("ResourceData")]),t._v(" trait")]),t._v(" "),s("li",[t._v("Allow to set materials by drag'n'drop on material editor field.")]),t._v(" "),s("li",[t._v("Made material fields in the inspector more clickable.")]),t._v(" "),s("li",[t._v("Improved navigation on navmesh using string pulling algorithm.")]),t._v(" "),s("li",[t._v("Improved performance of navigation mesh queries.")]),t._v(" "),s("li",[t._v("Improved text box widget performance.")]),t._v(" "),s("li",[s("code",[t._v("Plane")]),t._v(" API improvements.")]),t._v(" "),s("li",[t._v("Made material editor wider a bit by default.")]),t._v(" "),s("li",[t._v("Extend resource data constructor with type name.")]),t._v(" "),s("li",[t._v("Turned material into resource, removed "),s("code",[t._v("SharedMaterial")]),t._v(" struct.")]),t._v(" "),s("li",[t._v("Serialize vertex buffer data as a bytes slab.")]),t._v(" "),s("li",[t._v("Use "),s("code",[t._v("Window::pre_present_notify")]),t._v(" as recommended in the "),s("code",[t._v("winit")]),t._v(" docs.")]),t._v(" "),s("li",[t._v("Refactored sprites rendering to use materials.")]),t._v(" "),s("li",[t._v("Refactored particle system rendering to use forward renderer.")]),t._v(" "),s("li",[t._v("More built-in shader variables for lighting.")]),t._v(" "),s("li",[t._v("Triangle buffer API improvements.")]),t._v(" "),s("li",[t._v("Use debug message callback instead of message queue for OpenGL errors.")]),t._v(" "),s("li",[t._v("Enable OpenGL debugging in debug build profile.")]),t._v(" "),s("li",[t._v("Customizable time-to-live for geometry buffers (allows to create temporary buffers that lives one frame (ttl = 0)).")]),t._v(" "),s("li",[t._v("Allow to start multiple scenes at editor start up (kudos to "),s("a",{attrs:{href:"https://github.com/dasimonde",target:"_blank",rel:"noopener noreferrer"}},[t._v("@dasimonde"),s("OutboundLink")],1),t._v(").")]),t._v(" "),s("li",[s("code",[t._v("push_vertices")]),t._v(" + "),s("code",[t._v("push_vertices_transform")]),t._v(" method for vertex buffer.")]),t._v(" "),s("li",[t._v("Ability to connect a state with every other state in the ABSM editor (kudos to "),s("a",{attrs:{href:"https://github.com/Riddhiman007",target:"_blank",rel:"noopener noreferrer"}},[t._v("@Riddhiman007"),s("OutboundLink")],1),t._v(")")]),t._v(" "),s("li",[t._v("Added UUIDs for scene nodes.")]),t._v(" "),s("li",[t._v("Ability to set navmesh agent path recalculation threshold.")]),t._v(" "),s("li",[t._v("Reset "),s("code",[t._v("modified")]),t._v(" flags of inheritable variables when fixing node type.")]),t._v(" "),s("li",[t._v("Check for node type mismatch on graph resolve and auto-fix this.")]),t._v(" "),s("li",[t._v("Use type names instead of type ids when reporting inheritance errors.")]),t._v(" "),s("li",[t._v("Remove orphaned nodes when restoring graph's integrity.")]),t._v(" "),s("li",[t._v("Code example for "),s("code",[t._v("Inspector")]),t._v(" widget.")]),t._v(" "),s("li",[t._v("Pass node handle to surface instance data.")]),t._v(" "),s("li",[t._v("Check for global "),s("code",[t._v("enabled")]),t._v(" flag when filtering out cameras for rendering.")]),t._v(" "),s("li",[t._v("Serialize joints binding local frames.")]),t._v(" "),s("li",[t._v("Support for touch events in the UI (kudos to "),s("a",{attrs:{href:"https://github.com/Bocksdin",target:"_blank",rel:"noopener noreferrer"}},[t._v("@Bocksdin"),s("OutboundLink")],1),t._v(").")]),t._v(" "),s("li",[t._v("A* pathfinding optimization (kudos to "),s("a",{attrs:{href:"https://github.com/TiltedTeapot",target:"_blank",rel:"noopener noreferrer"}},[t._v("@TiltedTeapot"),s("OutboundLink")],1),t._v(").")])]),t._v(" "),s("h3",{attrs:{id:"fixed"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#fixed"}},[t._v("#")]),t._v(" Fixed")]),t._v(" "),s("ul",[s("li",[t._v("Fixed crash of the editor on Wayland.")]),t._v(" "),s("li",[t._v("Fixed font rendering API.")]),t._v(" "),s("li",[t._v("Fixed restoration of shallow resource handles of untyped resources.")]),t._v(" "),s("li",[t._v("Prevent double saving of settings after modification.")]),t._v(" "),s("li",[t._v("Keep aspect ratio when previewing a texture in the asset browser.")]),t._v(" "),s("li",[t._v("Filter out non-savable resources in resource creation dialog.")]),t._v(" "),s("li",[t._v("Fixed offscreen UI rendering in the UI editor.")]),t._v(" "),s("li",[t._v("Fixed deep cloning of materials: make them embedded after cloning.")]),t._v(" "),s("li",[t._v('Fixed path filters to correctly handle folders with "extensions".')]),t._v(" "),s("li",[t._v("Save material when changing its shader property in the material editor.")]),t._v(" "),s("li",[t._v("Fixed massive footgun with pointers to the graphics pipeline state scattered all around the renderer.")]),t._v(" "),s("li",[t._v("Prevent creating of multiple thread pool across the engine.")]),t._v(" "),s("li",[t._v("Fixed crash in the material editor if a material is failed to load.")]),t._v(" "),s("li",[t._v("Prevent the editor from closing after saving a scene via Ctrl+S.")]),t._v(" "),s("li",[t._v("Fixed position saving of maximized editor window.")]),t._v(" "),s("li",[t._v("Fixed crash when assigning non-material resource in a material property.")]),t._v(" "),s("li",[t._v("Fixed forward pass of standard shader for skinned meshes")]),t._v(" "),s("li",[t._v("Fixed uuid formatting in visitor.")]),t._v(" "),s("li",[t._v("Fixed resource extension comparison in the editor by making it case-insensitive.")]),t._v(" "),s("li",[t._v("Fixed crash when drag'n'dropping assets in scene previewer.")]),t._v(" "),s("li",[t._v("Fixed OpenGL error handling")]),t._v(" "),s("li",[t._v("Fixed performance issues when modifying vertex/triangle buffers.")]),t._v(" "),s("li",[t._v("Fixed crash when editing terrains (kudos to "),s("a",{attrs:{href:"https://github.com/Riddhiman007",target:"_blank",rel:"noopener noreferrer"}},[t._v("@Riddhiman007"),s("OutboundLink")],1),t._v(")")]),t._v(" "),s("li",[t._v("Fixed a bug when vertex attribute divisor was ignored.")]),t._v(" "),s("li",[t._v("Fixed colors for log messages.")]),t._v(" "),s("li",[t._v("Fixed scene loading in derived mode.")]),t._v(" "),s("li",[t._v("Fixed text coloring when sending a "),s("code",[t._v("WidgetMessage::Foreground")]),t._v(" to text.")]),t._v(" "),s("li",[t._v("Fixed memory leaks on Linux (kudos to "),s("a",{attrs:{href:"https://github.com/LordCocoNut",target:"_blank",rel:"noopener noreferrer"}},[t._v("@LordCocoNut"),s("OutboundLink")],1),t._v(")")]),t._v(" "),s("li",[t._v("Fixed invalid GPU resource indexing bug, that caused crashes/quirks in graphics when switching scenes in the editor.")])]),t._v(" "),s("h3",{attrs:{id:"removed"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#removed"}},[t._v("#")]),t._v(" Removed")]),t._v(" "),s("ul",[s("li",[t._v("Removed implicit cloning when in "),s("code",[t._v("Reflect::into_any")]),t._v(" impl for some types.")]),t._v(" "),s("li",[t._v("Removed redundant memory allocation when fetching fields using reflection.")]),t._v(" "),s("li",[t._v("Removed redundant memory allocation when iterating over fields.")]),t._v(" "),s("li",[t._v("Removed "),s("code",[t._v("Option")]),t._v(" wrapper in typed resource to flatten the internal structure of resources.")]),t._v(" "),s("li",[t._v("Removed a bunch of redundant clones in the renderer.")]),t._v(" "),s("li",[t._v("Removed lazy calculations in the navigational mesh.")]),t._v(" "),s("li",[t._v("Removed unused "),s("code",[t._v("soft_boundary_sharpness_factor")]),t._v(" param from particle systems (this property was moved to the\nstandard particle system material).")]),t._v(" "),s("li",[t._v("Removed "),s("code",[t._v("InteractionModeKind")]),t._v(" and replaced it with uuids.")])]),t._v(" "),s("h2",{attrs:{id:"support"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#support"}},[t._v("#")]),t._v(" Support")]),t._v(" "),s("p",[t._v("If you want to support the development of the project, click one of the links below. Preferable way is to use\n"),s("a",{attrs:{href:"https://boosty.to/fyrox",target:"_blank",rel:"noopener noreferrer"}},[t._v("Boosty"),s("OutboundLink")],1),t._v(" - this way the money will be available for the development immediately.\nAlternatively you can use "),s("a",{attrs:{href:"https://www.patreon.com/mrdimas",target:"_blank",rel:"noopener noreferrer"}},[t._v("Patreon"),s("OutboundLink")],1),t._v(", but in this case the money will\nbe on-hold for unknown period of time ("),s("a",{attrs:{href:"https://github.com/FyroxEngine/Fyrox/issues/363",target:"_blank",rel:"noopener noreferrer"}},[t._v("details are here"),s("OutboundLink")],1),t._v(").")]),t._v(" "),s("p",[t._v("Also, you can help by fixing one of the "),s("a",{attrs:{href:"https://github.com/FyroxEngine/Fyrox/issues?q=is%3Aopen+is%3Aissue+label%3A%22good+first+issue%22",target:"_blank",rel:"noopener noreferrer"}},[t._v('"good first issues" '),s("OutboundLink")],1),t._v(",\nadding a desired feature to the engine, or making a contribution to the "),s("a",{attrs:{href:"https://github.com/fyrox-book",target:"_blank",rel:"noopener noreferrer"}},[t._v("book"),s("OutboundLink")],1)])],1)}),[],!1,null,null,null);s.default=n.exports}}]);